extends base

block content
  main
    h2.page__subject invoice details
    - const paymentCount = Number(invoice.paymentId.length)
    if paymentCount > 0
      .table-wrapper
        .heading__title Payment Info
        table.table-data
          tr
            th payment tag
            th Description
            th Amount
            th Date 
          each payment in invoice.paymentId
              tr
                td= payment.paymentTag
                td= payment.paymentDetails
                td= payment.paymentAmount.toLocaleString(en-us, { style: 'currency', currency: 'USD' })
                td= payment.paymentDate.toLocaleString(en-us, {dateStyle: 'medium'})
    else
      p.empty__record no payment record exist on this invoice!

    // Horizontal Line
    .line &nbsp;
    // User Resources Data Display
    .resource-details
      .heading__title.ma-bt-lg Invoice Info
      form
        .form__div
          div(class='box-text-cell')
            p.box-title invoice no
            input(type='text', value=`${invoice.invoiceNumber}`)
          div(class='box-text-cell')
            p.box-title description
            textarea(rows='2' cols='40')= invoice.invoiceDescription
          div(class='box-text-cell')
            p.box-title amount
            input(type='number', value=`${invoice.invoiceAppliedToSalesValue}`)
          div(class='box-text-cell')
            p.box-title job id
            input(type='text', value=`${invoice.job.jobID}`)
          div(class='box-text-cell')
            p.box-title class
            input(type='text', value=`${invoice.invoiceClass}`)
          div(class='box-text-cell')
            p.box-title wht %
            input(type='number', value=`${invoice.witholdingTaxPercent}`)
          div(class='box-text-cell')
            p.box-title wht amount
            input(type='number', value=`${invoice.witholdingTaxAmount}`)
          div(class='box-text-cell')
            p.box-title profit/loss
            input(type='number', value=`${invoice.profitOrLoss}`)
          div(class='box-text-cell')
            p.box-title partners payment
            input(type='number', value=`${invoice.invoicePartnerPayment}`)
    .line &nbsp;

